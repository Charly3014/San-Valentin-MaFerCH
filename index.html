<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">

<!-- Anti cach√© -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San Valent√≠n üåô‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  font-family:'Georgia',serif;
  background:linear-gradient(135deg,#0b132b,#2c0735);
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  color:#fff;
}

/* INICIO */
.container{text-align:center;}
h1{font-size:2.2em;color:#ffd6e8;margin-bottom:40px;}

.buttons{position:relative;height:160px;}

button{
  padding:18px 40px;
  font-size:22px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  transition:.3s;
  position:absolute;
}

#yesBtn{
  background:#b1124a;
  color:white;
  left:50%;
  transform:translateX(-50%);
}

#noBtn{
  background:#444;
  color:white;
  left:50%;
  top:90px;
  transform:translateX(-50%);
}

/* FINAL */
.final{
  display:none;
  position:absolute;
  inset:0;
  background:url("https://images.unsplash.com/photo-1503264116251-35a269479413") center/cover no-repeat;
  justify-content:center;
  align-items:center;
}

.overlay{
  position:absolute;
  inset:0;
  background:rgba(10,10,30,.55);
}

/* CARTA */
.letter{
  position:relative;
  background:rgba(15,10,25,.92);
  padding:30px;
  border-radius:20px;
  max-width:540px;
  color:#ffd6e8;
  text-align:center;
  box-shadow:0 0 40px rgba(0,0,0,.6);
  z-index:2;
  font-size:20px;
}

/* OSITO */
.bear{
  position:absolute;
  bottom:10%;
  left:-30%;
  font-size:90px;
  animation:walk 5s forwards;
  z-index:2;
}

.bear span{display:block;font-size:40px;}

@keyframes walk{
  to{left:20%;}
}

/* ABRAZO */
.hug{
  animation:hug 1.2s infinite alternate;
}

@keyframes hug{
  from{transform:scale(1);}
  to{transform:scale(1.08);}
}

/* CORAZONES */
.heart{
  position:absolute;
  bottom:20%;
  font-size:30px;
  animation:float 4s linear forwards;
}

@keyframes float{
  from{transform:translateY(0); opacity:1;}
  to{transform:translateY(-300px); opacity:0;}
}

/* RADIO */
.radio{
  position:absolute;
  bottom:12%;
  right:10%;
  font-size:60px;
  animation:pulse 1s infinite alternate;
}

@keyframes pulse{
  from{transform:scale(1);}
  to{transform:scale(1.1);}
}
</style>
</head>

<body>

<div class="container" id="start">
  <h1>¬øQuieres ser mi San Valent√≠n, Fernanda? üåô‚ù§Ô∏è</h1>
  <div class="buttons">
    <button id="yesBtn">S√≠ üíñ</button>
    <button id="noBtn">No üò¢</button>
  </div>
</div>

<div class="final" id="final">
  <div class="overlay"></div>

  <div class="bear" id="bear">
    üß∏
    <span>üç´üíê</span>
  </div>

  <div class="radio">üìªüé∂</div>

  <div class="letter">
    <p id="text"></p>
  </div>
</div>

<audio id="music" preload="auto">
  <source src="https://dl.sndup.net/c5zq/Chicago%20-%20You're%20The%20Inspiration.mp3" type="audio/mpeg">
</audio>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const start = document.getElementById("start");
const final = document.getElementById("final");
const textEl = document.getElementById("text");
const music = document.getElementById("music");
const bear = document.getElementById("bear");

/* BOT√ìN NO HUYE */
function moveNo(){
  const x = Math.random()*220 - 110;
  const y = Math.random()*220 - 110;
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
}
noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("touchstart", moveNo);

/* CORAZONES */
function hearts(){
  for(let i=0;i<20;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="üíñ";
    h.style.left=Math.random()*100+"%";
    h.style.animationDelay=(Math.random()*2)+"s";
    final.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  }
}

/* BOT√ìN S√ç */
yesBtn.addEventListener("click", ()=>{
  start.style.display="none";
  final.style.display="flex";
  music.play().catch(()=>{});

  const message =
`Gracias por aceptar ser mi San Valent√≠n ‚ù§Ô∏è
Fernanda, te amo con todo mi ser.
Eres mi lugar seguro, mi paz y mi alegr√≠a.
Te espero este 14 de febrero ü•πüíñ

Con todo mi amor,
Carlos Ch`;

  let i=0;
  textEl.innerHTML="";
  function type(){
    if(i < message.length){
      textEl.innerHTML += message[i]==="\n"?"<br>":message[i];
      i++;
      setTimeout(type,50);
    }else{
      bear.classList.add("hug");
      hearts();
    }
  }
  type();
});
</script>

</body>
</html>
